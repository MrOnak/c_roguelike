digraph dependencies {
  graph [
    rankdir=LR
    labelloc=t
  ]
  node [
    shape=rect
  ]

  roguelike; "<static>\nObjectStore"; "<static>\nTileStore"; MapGenerator; MapWindow; Timekeeper
  LivingBeings
  "<static>\nGenerator"

  subgraph baseobjects {
    roguelike -> Timekeeper
    roguelike -> MapWindow
    roguelike -> MapGenerator
    roguelike -> "<static>\nTileStore"
    roguelike -> "<static>\nObjectStore"
  }

  subgraph generators {
    MapGenerator -> "<static>\nTileStore" [style=dashed, label=fills]
    MapGenerator -> "<static>\nObjectStore" [style=dashed, label=fills]
    "<static>\nObjectStore" -> LivingBeings
  }

  subgraph gameObjects {
    edge [arrowtail=empty; dir=back]
    "<abstract>\nLife" -> "<abstract>\nCritter"
    "<abstract>\nLife" -> Player
    "<abstract>\nCritter" -> Mouse
    "<abstract>\nCritter" -> Frog
    "<abstract>\nGameObject" -> "<abstract>\nLife"
  }

  subgraph objectStoreUsers {
    edge [style=dashed]
    Timekeeper -> "<static>\nObjectStore" [label=references]
    LivingBeings -> "<abstract>\nLife"
  }

  subgraph tileStoreUsers {
    edge [style=dashed]
    MapWindow -> "<static>\nTileStore" [label=references]
    MapWindow -> "<static>\nObjectStore" [label=references]
    "<abstract>\nLife" -> "<static>\nTileStore" [label=uses]
  }

  subgraph utilities {
    edge [style=dotted, arrowhead=none]
    "<static>\nGenerator" -> "<abstract>\nGameObject"
  }
}
