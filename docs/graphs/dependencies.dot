digraph dependencies {
  graph [
    rankdir=LR
    labelloc=t
  ]
  node [
    shape=rect
  ]

  roguelike; ObjectStore; TileStore; MapGenerator; MapWindow; Timekeeper
  LivingBeings
  Generator

  subgraph baseobjects {
    roguelike -> Timekeeper
    roguelike -> MapWindow
    roguelike -> MapGenerator
    roguelike -> TileStore
    roguelike -> ObjectStore
  }

  subgraph generators {
    MapGenerator -> TileStore [style=dashed, label=fills]
    MapGenerator -> ObjectStore [style=dashed, label=fills]
    ObjectStore -> LivingBeings
  }

  subgraph gameObjects {
    edge [arrowtail=empty; dir=back]
    Life -> Critter
    Life -> Player
    Critter -> Mouse
    Critter -> Frog
    GameObject -> Life
  }

  subgraph objectStoreUsers {
    edge [style=dashed]
    Timekeeper -> ObjectStore [label=references]
    LivingBeings -> Life
  }

  subgraph tileStoreUsers {
    edge [style=dashed]
    MapWindow -> TileStore [label=references]
    MapWindow -> ObjectStore [label=references]
    Life -> TileStore [label=uses]
  }

  subgraph utilities {
    edge [style=dotted, arrowhead=none]
    Generator -> GameObject
  }
}
